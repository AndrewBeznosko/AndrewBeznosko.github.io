(function(e){function t(t){for(var s,a,o=t[0],u=t[1],l=t[2],d=0,f=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);c&&c(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(s=!1)}s&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},r={app:0},i=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],a=n("2877"),o={},u=Object(a["a"])(o,r,i,!1,null,null,null),l=u.exports,c=n("9483");Object(c["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var d=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home bg-dark text-white"},[n("div",{staticClass:"container d-flex flex-column align-items-center justify-content-center min-vh-100 pb-5"},[n("h1",{staticClass:"text-center mb-5 mt-3"},[e._v("Vue-quiz")]),n("div",{staticClass:"col-lg-5 col-12 mb-lg-5"},[e.QUESTIONS.length?n("Quiz",{attrs:{"questions-prop":e.QUESTIONS}}):e._e()],1)])])},v=[],p=[{title:"Question 1?",key:1,answers:[{title:"Answer 11",value:11,sub:{title:"Question 111?",key:111,answers:[{title:"Answer 111",value:111},{title:"Answer 112",value:112},{title:"Answer 113",value:113}]}},{title:"Answer 12",value:12,sub:{title:"Question 121?",key:121,answers:[{title:"Answer 121",value:121},{title:"Answer 122",value:122},{title:"Answer 113",value:113}]}}]},{title:"Question 2?",key:2,show_if:[11,113],answers:[{title:"Answer 21",value:21},{title:"Answer 22",value:22}]},{title:"Question 3",key:3,answers:[{title:"Answer 31",value:31},{title:"Answer 32",value:32,sub:{title:"Question 321",key:321,answers:[{title:"Answer 321",value:321},{title:"Answer 322",value:322}]}}]},{title:"Question 4",show_if:[12,113,22],key:4,answers:[{title:"Answer 41",value:41},{title:"Answer 42",value:42},{title:"Answer 43",value:43}]},{title:"Question 5",key:5,answers:[{title:"Answer 51",value:51},{title:"Answer 52",value:52},{title:"Answer 53",value:53}]},{title:"Question 6",key:6,answers:[{title:"Answer 61",value:61},{title:"Answer 62",value:62},{title:"Answer 63",value:63}]},{title:"Question 7",key:7,answers:[{title:"Answer 71",value:71},{title:"Answer 72",value:72}]},{title:"Question 8",show_if:[21],key:8,answers:[{title:"Answer 81",value:81},{title:"Answer 82",value:82}]},{title:"Question 9",key:9,answers:[{title:"Answer 91",value:91},{title:"Answer 92",value:92}]}],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-quiz"},[e.show_results?e._l(e.questions,(function(t){return n("form",{key:t.key,staticClass:"card bg-secondary mb-3",class:{"was-validated":e.was_validated},on:{submit:function(e){e.preventDefault()}}},[n("div",{staticClass:"card-header position-relative border-0"},[n("h2",{staticClass:"fw-bold mb-1"},[e._v(e._s(t.title))])]),n("div",{staticClass:"card-body py-3"},[n("div",{staticClass:"card"},[n("div",{staticClass:"list-group list-group-flush text-dark"},e._l(t.answers,(function(s,r){return n("label",{key:"answer-"+e.current_index+"-"+r,staticClass:"form-check list-group-item ps-5",class:{disabled:t.is_disabled}},[n("input",e._b({staticClass:"form-check-input",attrs:{name:"answerRadio-"+t.key,id:"answer-"+e.current_index+"-"+r,type:"radio",required:""},domProps:{value:s.value},on:{change:function(t){return e.onAnswer(s)}}},"input",{checked:t.answer==s.value},!1)),n("span",{staticClass:"form-check-label fw-bold"},[e._v(e._s(s.title))])])})),0)])])])})):[e.currentQuestion?n("form",{staticClass:"card bg-secondary",class:{"was-validated":e.was_validated},on:{submit:function(e){e.preventDefault()}}},[n("div",{staticClass:"card-header position-relative border-0"},[n("h2",{staticClass:"fw-bold mb-1"},[e._v(e._s(e.currentQuestion.title))]),n("div",{staticClass:"progress position-absolute w-100 start-0 bottom-0 rounded-0",staticStyle:{height:"2px"}},[n("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated bg-success",style:"width: "+e.progress()+"%",attrs:{role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"}})])]),n("div",{staticClass:"card-body py-3",staticStyle:{"min-height":"250px"}},[n("div",{staticClass:"card"},[n("div",{staticClass:"list-group list-group-flush text-dark"},e._l(e.currentQuestion.answers,(function(t,s){return n("label",{key:"answer-"+e.current_index+"-"+s,staticClass:"form-check list-group-item ps-5",class:{disabled:e.currentQuestion.is_disabled}},[n("input",e._b({staticClass:"form-check-input",attrs:{name:"answerRadio-"+e.currentQuestion.key,id:"answer-"+e.current_index+"-"+s,type:"radio",required:""},domProps:{value:t.value},on:{change:function(n){return e.onAnswer(t)}}},"input",{checked:e.currentQuestion.answer==t.value},!1)),n("span",{staticClass:"form-check-label fw-bold"},[e._v(e._s(t.title))])])})),0)])]),n("div",{staticClass:"card-footer d-flex justify-content-between"},[n("button",e._b({staticClass:"btn btn-outline-light",attrs:{type:"button"},on:{click:function(t){return e.toPreventStep()}}},"button",{disabled:e.current_index<=0},!1),[e._v(" Prevent ")]),n("button",{staticClass:"btn btn-primary ml-auto fw-bold",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.validate(t)}}},[e._v(e._s(e.isLastQuestion?"Finish":"Step"))])])]):e._e()]],2)},h=[],b=(n("a623"),n("7db0"),n("4160"),n("caad"),n("d81d"),n("a434"),n("d3b7"),n("2532"),n("4c53"),n("159b"),n("96cf"),n("1da1")),m={name:"Quiz",props:{questionsProp:{type:Array,default:[]}},data:function(){return{was_validated:!1,show_results:!1,questions:[],current_index:0}},computed:{totalQuestions:function(){return this.questions.length},isLastQuestion:function(){return this.questions.length-1==this.current_index},nextQuestionIndex:function(){return this.isLastQuestion?this.current_index:this.current_index+1},answersArr:function(){var e=[];return this.questions.forEach((function(t){t.answer&&e.push(t.answer)})),e},currentQuestion:{get:function(){return this.transformedQuestions[this.current_index]},set:function(e){this.questions[this.current_index]=e}},transformedQuestions:{get:function(){return this.questions.map((function(e){return e["answer"]||(e["answer"]=void 0),e["is_disabled"]||(e["is_disabled"]=!1),e}))},set:function(e){this.questions=e}}},methods:{validate:function(e){e.target.closest("form").requestSubmit(),this.was_validated=!0,this.questions[this.current_index].answer&&this.toNextStep()},toNextStep:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.checkSubQuestionExisting();case 2:return t.next=4,e.checkQuestionShowIf();case 4:e.currentQuestion.is_disabled=!0,e.was_validated=!1,e.progress(),e.isLastQuestion?e.showResults():e.current_index++;case 7:case"end":return t.stop()}}),t)})))()},toPreventStep:function(){this.current_index--,this.was_validated=!1},progress:function(){var e=0;return this.questions.forEach((function(t){t.answer&&e++})),Math.round(100*e/this.totalQuestions)},onAnswer:function(e){this.questions[this.current_index].answer=e.value},checkSubQuestionExisting:function(){var e=this;return new Promise((function(t,n){var s=e.currentQuestion.answers.find((function(t){return t.value==e.currentQuestion.answer}));s&&s["sub"]&&(e.questions.splice(e.nextQuestionIndex,0,s.sub),delete s.sub),t()}))},checkQuestionShowIf:function(){var e=this;return new Promise((function(t,n){var s=e.questions[e.nextQuestionIndex].show_if;s&&!e.mustContainsAllValues(e.answersArr,s)&&e.questions.splice(e.nextQuestionIndex,1),t()}))},mustContainsAllValues:function(e,t){return t.every((function(t){return e.includes(t)}))},showResults:function(){this.show_results=!0}},mounted:function(){this.questions=this.questionsProp}},_=m,g=Object(a["a"])(_,w,h,!1,null,null,null),y=g.exports,x={name:"Home",components:{Quiz:y},created:function(){this.QUESTIONS=p}},k=x,Q=Object(a["a"])(k,f,v,!1,null,null,null),A=Q.exports;s["a"].use(d["a"]);var C=[{path:"/",name:"Home",component:A}],S=new d["a"]({mode:"history",base:"/",routes:C}),q=S,O=n("2f62");s["a"].use(O["a"]);var j=new O["a"].Store({state:{},mutations:{},actions:{},modules:{}});n("ab8b"),n("c1c3");s["a"].config.productionTip=!1,new s["a"]({router:q,store:j,render:function(e){return e(l)}}).$mount("#app")},c1c3:function(e,t,n){}});
//# sourceMappingURL=app.fa2745e0.js.map